{"version":3,"sources":["webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue?f533","webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue?2a7f","webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue?3e74","webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue?25b8","webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue","webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue?b5fb","webpack:///C:/Users/m1358/Desktop/uni-ordering/pages/index/conponents/recommend/recommend.vue?f710"],"names":["components","vanCol","vanRow","vanTag","vanOverlay","data","shoppingBag","cardData","recommendFood","show","created","getRecommendFood","methods","add","id","tableNum","uni","getStorageSync","wx","showModal","title","content","showCancel","success","res","confirm","switchTab","url","console","log","arr","i","quality","length","setStorageSync","onOpen","sub","push","onClose","request","method","recommend","forEach","item","index"],"mappings":"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","file":"pages/index/conponents/recommend/recommend.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./recommend.vue?vue&type=template&id=4e839f77&\"\nvar renderjs\nimport script from \"./recommend.vue?vue&type=script&lang=js&\"\nexport * from \"./recommend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recommend.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni-ordering/pages/index/conponents/recommend/recommend.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./recommend.vue?vue&type=template&id=4e839f77&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./recommend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./recommend.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport vanCol from '@/wxcomponents/vant/dist/col'\nimport vanRow from '@/wxcomponents/vant/dist/row'\nimport vanTag from '@/wxcomponents/vant/dist/tag' //标签\nimport vanOverlay from '@/wxcomponents/vant/dist/overlay' //遮罩层\nexport default {\n\tcomponents: {\n\t\tvanCol,\n\t\tvanRow,\n\t\tvanTag,\n\t\tvanOverlay\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// 自定义一个数组用来缓存购物袋中的菜品信息\n\t\t\tshoppingBag: [],\n\t\t\t// 用来装卡片的菜品信息\n\t\t\tcardData: [],\n\t\t\t// 用来装服务器返回的推荐菜品数据\n\t\t\trecommendFood: [],\n\t\t\t// 控制弹出层的显示\n\t\t\tshow: false\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getRecommendFood()\n\t},\n\tmethods: {\n\t\t// 加\n\t\tadd(id) {\n\t\t\tvar tableNum=uni.getStorageSync('tableNum')\n\t\t\t//点加号之前必须先扫码桌号\n\t\t\tif (!tableNum) {\n\t\t\t\twx.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '请在首页扫码识别桌号后再来点餐',\n\t\t\t\t\tshowCancel: false, //去掉取消按钮\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\twx.switchTab({\n\t\t\t\t\t\t\t\turl: '../../index',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log(id)\n\t\t\tvar arr = wx.getStorageSync('recommend')\n\t\t\t// 通过循环遍历，从服务器返回的推荐菜品中找出点击的这一项\n\t\t\tfor (var i in this.recommendFood) {\n\t\t\t\tif (this.recommendFood[i].id === id) {\n\t\t\t\t\tthis.recommendFood[i].quality += 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i in arr) {\n\t\t\t\t\tif (arr[i].id === id) {\n\t\t\t\t\t\tarr[i].quality += 1\n\t\t\t\t\t\tuni.setStorageSync('recommend', arr)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.onOpen(id)\n\t\t},\n\t\t// 减\n\t\tsub(id) {\n\t\t\tvar arr = wx.getStorageSync('recommend')\n\t\t\t// 通过循环遍历，从服务器返回的推荐菜品中找出点击的这一项\n\t\t\tfor (var i in this.recommendFood) {\n\t\t\t\tif (this.recommendFood[i].id === id) {\n\t\t\t\t\tthis.recommendFood[i].quality -= 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i in arr) {\n\t\t\t\t\tif (arr[i].id === id) {\n\t\t\t\t\t\tarr[i].quality -= 1\n\t\t\t\t\t\tuni.setStorageSync('recommend', arr)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.onOpen(id)\n\t\t},\n\t\t// 弹出层打开\n\t\tonOpen(id) {\n\t\t\tthis.show = true\n\t\t\tconsole.log(id)\n\t\t\tvar arr = uni.getStorageSync('recommend') || []\n\n\t\t\t// 判断缓存中是否有recommend缓存\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i in arr) {\n\t\t\t\t\tif (arr[i].id === id) {\n\t\t\t\t\t\tthis.cardData = arr[i]\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in this.recommendFood) {\n\t\t\t\tif (this.recommendFood[i].id === id) {\n\t\t\t\t\tthis.cardData = this.recommendFood[i]\n\t\t\t\t\tarr.push(this.recommendFood[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 没有，则把这个数组arr插入缓存中\n\t\t\tuni.setStorageSync('recommend', arr)\n\n\n\t\t},\n\t\t// 弹出层关闭\n\t\tonClose() {\n\t\t\tthis.show = false\n\t\t},\n\t\t// 请求服务器的推荐菜品数据\n\t\tgetRecommendFood() {\n\t\t\tuni.request({\n\t\t\t\turl: 'https://www.linhua.club/ordering/wx/recommend',\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.recommendFood = res.data.recommend\n\t\t\t\t\t// 通过循环遍历，为recommendFood的每一项都设置quality=0\n\t\t\t\t\tthis.recommendFood.forEach((item, index) => {\n\t\t\t\t\t\titem.quality = 0\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(this.recommendFood)\n\t\t\t\t}\n\t\t\t})\n\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./recommend.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./recommend.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591500196148\n      var cssReload = require(\"C:/Users/m1358/Desktop/HBuilderX.2.6.5.20200314/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}